var supportedLanguages = ["it"];function initMainApp(sPath){  if( /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent) ) {    Model.mobile = true;  }  if ((jQuery.browser.msie)  && (parseInt(jQuery.browser.version, 10) <= 8)) {    Model.ie8 = true;  }  var userLang = ((navigator.language) ? navigator.language : navigator.userLanguage).substr(0,2);  var a = supportedLanguages;  var lTrovato = false;  for (var x=0;x<a.length;x++){    if (a[x] == userLang){      lTrovato = true;    }  }  if (!lTrovato){    userLang = supportedLanguages[0];  }  Model.LNG = userLang;  var lnq = getParameterByName("lng");  if (!Pqp.isNull(lnq)){    lTrovato = false;    a = supportedLanguages;    for (x=0;x<a.length;x++){      if (a[x] == lnq){         Model.LNG = lnq;         lTrovato = true;         break;      }    }    if (!lTrovato){      Model.LNG = supportedLanguages[0];    }  }  Global.path_resources = sPath;  // Carica il file delle risorse  loadResources();}function getParameterByName(name) {  var match = new RegExp('[?&]' + name + '=([^&]*)').exec(window.location.search);  return match && decodeURIComponent(match[1].replace(/\+/g, ' '));}function loadResources(){  $.ajax({    type: "GET",    url: Global.path_resources+"?rnd="+Pqp.rnd(192019),    dataType: "xml",    success: resourcesLoadedOk,    error: resourcesLoadedKo  });  }function resourcesLoadedOk(xml){  Global.resources = $.xml2json(xml);  // Carica il file delle labels  loadLabels();}function resourcesLoadedKo(){  trace("Error loading "+Global.path_resources);}function loadLabels(){  $.ajax({    type: "GET",    url: Global.resources.path_labels,    dataType: "xml",    success: labelsLoadedOk,    error: labelsLoadedKo  });  }function labelsLoadedOk(xml){  // Inizializza le labels  Lng.init(xml,Model.LNG);  initTagging();}function labelsLoadedKo(){  trace("Error loading labels!");}function initTagging(){  // inizializza il tagging  Tag.init(Global.resources);  loadElencoDemo();}function loadElencoDemo(){  jQuery("#altro").hide();  $.ajax({    type: "GET",    url: Global.resources.path_demo+"?rnd="+Pqp.rnd(192019),    dataType: "xml",    success: demoLoadedOk,    error: demoLoadedKo  });  }function demoLoadedOk(xml){  //   buildElencoDemo(xml);  appInited();}function demoLoadedKo(){    jQuery("#istruzioni").show();  appInited();}function appInited(){    // Tagga l'evento  Tag.tag("hp");    // Nasconde il preloader  Global.hidePreloaderApp();    // Mosta l'app  Global.app = $(".mainApp");  Global.app.show();    // Entry point  appReady(); // in MainApp.js}function buildElencoDemo(xml){  var toAppend = jQuery("#elencoDemo");  jQuery("#altro").show();  jQuery("#istruzioni").show();  var o = $.xml2json(xml);     jQuery(".demoElement").hide();  var ref = jQuery(".demoElement").clone();    var a = Pqp.geta(o.demos.demo)    for (var x=0;x<a.length;x++){    var oTmp = a[x];        if (oTmp.id != ID_DEMO){      var mc = ref.clone();      toAppend.append(mc)      mc.show();      jQuery("img",mc).attr("src",oTmp.img);      jQuery("label",mc).html(""+oTmp.text);    }  }    }